#startup stuff
exec-once = quickshell
exec-once = hyprpaper
exec-once = swaync
exec-once = hypridle

#clearing clipboard
exec-once = cliphist wipe; wl-paste --watch cliphist store

#storing copypasted stuff in cliphist
exec-once = wl-paste --type text --watch cliphist store
exec-once = wl-paste --type image --watch cliphist store

#service required password prompts
exec-once = systemctl --user start hyprpolkitagent

monitor=auto,preferred,0x0,1


# please i need darkmode
exec = gsettings set org.gnome.desktop.interface gtk-theme "adw-gtk3-dark"
exec = gsettings set org.gnome.desktop.interface color-scheme "prefer-dark"
env = QT_QPA_PLATFORMTHEME,qt6ct-kde
env = QT_QPA_PLATFORM,wayland   

env = XDG_DATA_DIRS,/home/$USER/.local/share/flatpak/exports/share:/var/lib/flatpak/exports/share:/usr/local/share:/usr/share 

input {
    kb_layout = fr
    kb_variant =
    kb_model =
    kb_options =
    follow_mouse = 1

    touchpad {
        natural_scroll = true
        tap-to-click = true
    }
}

gesture = 3, horizontal, workspace
gestures {
    
}


general {
    gaps_in = 5
    gaps_out = 10
    border_size = 2
    col.active_border = rgba(89b4faff)
    col.inactive_border = rgba(595959aa)
    layout = dwindle
    
}

misc {
    font_family = "SF Pro Display"
}
binds { 
    allow_workspace_cycles = true 
}
decoration {
    rounding = 12
    
    blur {
        enabled = true
        popups = true
        size = 6
        passes = 3
        new_optimizations = true
    }

    shadow {
        enabled = true
        range = 15
        render_power = 3
        color = rgba(1a1a1aee)
    }
}

# laptop/keyboard keys
bindle = , XF86MonBrightnessUp, exec, brightnessctl s +5%
bindle = , XF86MonBrightnessDown, exec, brightnessctl s 5%-
bindle = , XF86AudioRaiseVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%+
bindle = , XF86AudioLowerVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
bindle = , XF86AudioMute, exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle

bindl = , XF86AudioPrev, exec, playerctl previous
bindl = , XF86AudioPlay, exec, playerctl play-pause
bindl = , XF86AudioNext, exec, playerctl next   


# apps and stuff
bind = SUPER, A, exec, foot
bind = SUPER, G, exec, xdg-open about:newtab
bind = SUPER, Q, killactive,
bind = SUPER, space, exec, rofi -show drun -drun-reload-desktop-cache  
bind = SUPER, Delete, exec, rofi -show power-menu -modi power-menu:rofi-power-menu;
bind = SUPER, E, exec, xdg-open $HOME


# screenshotting

bind = ,PRINT, exec, hyprshot -m region
bind = SUPER, PRINT, exec, hyprshot -m output

# quickshell
bind = SUPER, N, global, quickshell:togglekeybinds
bind = SUPER, I, global, quickshell:togglesettings
# some stuff

bind = SUPER, F, togglefloating
bindm = SUPER, mouse:272, movewindow
bindm = SUPER, mouse:273, resizewindow

bind = SUPER, Tab, workspace, next   

bind = SUPER, mouse_up, workspace, e+1   
bind = SUPER, mouse_down, workspace, e-1   

bind = SUPER, V, exec, cliphist list | rofi -dmenu | cliphist decode | wl-copy   

# workspaces related binds (fucking french layout)
bind = SUPER, ampersand, workspace, 1
bind = SUPER, eacute, workspace, 2
bind = SUPER, quotedbl, workspace, 3
bind = SUPER, apostrophe, workspace, 4
bind = SUPER, parenleft, workspace, 5
bind = SUPER, egrave, workspace, 6
bind = SUPER, minus, workspace, 7
bind = SUPER, underscore, workspace, 8
bind = SUPER, ccedilla, workspace, 9
bind = SUPER, agrave, workspace, 10

# moving to workspace
bind = SUPER ALT, ampersand, movetoworkspace, 1
bind = SUPER ALT, eacute, movetoworkspace, 2
bind = SUPER ALT, quotedbl, movetoworkspace, 3
bind = SUPER ALT, apostrophe, movetoworkspace, 4
bind = SUPER ALT, parenleft, movetoworkspace, 5
bind = SUPER ALT, egrave, movetoworkspace, 6
bind = SUPER ALT, minus, movetoworkspace, 7
bind = SUPER ALT, underscore, movetoworkspace, 8
bind = SUPER ALT, ccedilla, movetoworkspace, 9
bind = SUPER ALT, agrave, movetoworkspace, 10  


layerrule = ignore_alpha 0.5, match:namespace rofi

layerrule = blur on, match:namespace code
layerrule = ignore_alpha 0.5, match:namespace code

layerrule = blur on, match:namespace brave-browser
layerrule = ignore_alpha 0.5, match:namespace brave-browser


# xwayland screen sharing fix from Hyprland Wiki
windowrule {
    name = xwayland-video-bridge-fixes
    match:class = xwaylandvideobridge

    no_initial_focus = true
    no_focus = true
    no_anim = true
    no_blur = true
    max_size = 1 1
    opacity = 0.0
}

dwindle {
    pseudotile = true
    preserve_split = true
}